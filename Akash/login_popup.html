<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Form Popup in HTML Example</title>

    <!-- Login Form Popup CSS -->
    <link rel="stylesheet" href="style_login_popup.css">
    <!--Only for demo purpose - no need to add.-->
    <link rel="stylesheet" href="demo_login_popup.css" />

</head>

<body>

    <div class="ScriptTop">
        <div class="rt-container">
            <div class="col-rt-4" id="float-right">



            </div>

        </div>
    </div>

    <header class="ScriptHeader">
        <div class="rt-container">
            <div class="col-rt-12">
                <div class="rt-heading">
                    <h1>Login/Signup Form Onn Bike</h1>

                </div>
            </div>
        </div>
    </header>

    <section>
        <div class="rt-container">
            <div class="col-rt-12">
                <div class="Scriptcontent">

                    <!-- Login Form Popup HTML -->
                    <center>
                        <label class="modal-btn" for="modal-toggle">Book Now</label>
                    </center>
                    <input id="modal-toggle" type="checkbox">
                    <label class="modal-backdrop" for="modal-toggle"></label>
                    <div class="modal-content">
                        <label class="modal-close-btn" for="modal-toggle">
		      <svg width="30" height="30">
            <line x1="5" y1="5" x2="20" y2="20"/>
		        <line x1="20" y1="5" x2="5" y2="20"/>
		      </svg>
	      </label>
                        <div class="tabs">
                            <!--  LOG IN  -->
                            <input class="radio" id="tab-1" name="tabs-name" type="radio" checked>
                            <label for="tab-1" class="table"><span>Login</span></label>
                            <div class="tabs-content">
                                <div class="login_socnet">

                                    <a href="" class="fa fa-google-plus" aria-hidden="true"></a>
                                    <a href="" class="fa fa-facebook" aria-hidden="true"></a>
                                </div>
                                <form action="" role="form" onsubmit="login(event)">
                                    <input type="email" id="Email" placeholder="Email" required>
                                    <input type="password" id="pass" placeholder="Password" required>
                                    <input type="submit" value="Log In">
                                </form>
                                <form class="forgot-password" action="" onsubmit="OtpSend(event)">
                                    <input id="forgot-password-toggle" type="checkbox">
                                    <label for="forgot-password-toggle">forgot password?</label>
                                    <div class="forgot-password-content">
                                        <input type="email" placeholder="enter your email" required>
                                        <input type="submit" value="go">
                                    </div>
                                </form>
                            </div>
                            <!--  SIGN UP  -->
                            <input class="radio" id="tab-2" name="tabs-name" type="radio">
                            <label for="tab-2" class="table"><span>Sign up</span></label>
                            <div class="tabs-content">
                                <div class="login_socnet">

                                    <a href="" class="fa fa-google-plus" aria-hidden="true"></a>
                                    <a href="" class="fa fa-facebook" aria-hidden="true"></a>
                                </div>
                                <form action="" role="form" onsubmit="signUp(event);">
                                    <input type=" text" id="fname" placeholder="First name " required>
                                    <input type="text" id="lname" placeholder="Last name " required>
                                    <input type="email" id="email" placeholder="Email " required>
                                    <input type="password" id="pwd" placeholder="password " required>
                                    <input type="submit" value="Sign Up ">
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script src='https://use.fontawesome.com/7fcc5972f1.js'></script>

    <script type="text/javascript">
        const signUp = e => {
            var formData = JSON.parse(localStorage.getItem('formData')) || [];
            let exist = formData.length &&
                JSON.parse(localStorage.getItem('formData')).some(data => data.fname.toLowerCase() == document.getElementById('fname').value.toLowerCase() && data.lname.toLowerCase() == document.getElementById('lname').value.toLowerCase() && data.email.toLowerCase() == document.getElementById('email').value.toLowerCase());
            if (!exist) {
                var obj = {
                    fname: document.getElementById('fname').value,
                    lname: document.getElementById('lname').value,
                    email: document.getElementById('email').value,
                    pwd: document.getElementById('pwd').value
                }
                formData.push(obj);
                localStorage.setItem('formData', JSON.stringify(formData));
                console.log(localStorage.getItem('formData'));
                dispData();
                document.querySelector('form').reset();
                document.getElementById('fname').focus();
            } else {
                alert("Ooopppssss... Duplicate found!!!\nYou have already sigjned up");
            }
            e.preventDefault();
        }

        /*      const login = c => {
                  let exist = formData.length &&
                      JSON.parse(localStorage.getItem('formData')).some(data => data.Email.toLowerCase() == document.getElementById('Email').value.toLowerCase() && data.pass.toLowerCase() == document.getElementById('pass').value.toLowerCase());
                  if (!exist) {
                      alert('Login Succesfully !!!');
                  } else {
                      alert('Wrong mail id or password');
                  }
              }*/


        function login(e) {
            e.preventDefault();
            let Email = document.getElementById('Email').value;
            let pass = document.getElementById('pass').value;
            console.log(Email, pass);

            var dt = JSON.parse(localStorage.getItem('formData'))
            console.log('dt:', dt[0]);

            let email2 = dt[0].email;

            console.log('email2:', email2)
            let pass2 = dt[0].pwd;
            console.log('pass2:', pass2)

            if (Email == email2 && pass == pass2) {
                alert('Log in successfully');
                console.log("success");
            } else {
                alert('wrong email id or password');
                console.log("Access denied");
            }

        }

        function OtpSend(e) {
            alert('OTP has been send to your mail id');
            let random = Math.floor(Math.random() * 2000) + 1000;
            console.log(random);
        }
    </script>


</body>

</html>